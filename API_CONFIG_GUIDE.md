# 📋 API配置指南

## 🔑 解析API Key

### 简化配置
解析API已简化为只需配置Key，其他参数使用默认设置。

### 如何添加

1. **展开参数配置**
   - 点击"参数配置"展开配置面板

2. **添加解析API Key**
   - 找到"解析API Key"部分
   - 点击"添加"按钮
   - 输入配置信息：
     - **名称**（可选）：如"主Key"、"备用Key"
     - **API Key**（必填）：输入您的解析API密钥

3. **保存**
   - 输入后自动保存到浏览器
   - 下次访问自动加载

### 示例

```
┌─────────────────────────────┐
│ 解析API Key          [+ 添加] │
├─────────────────────────────┤
│ ┌─────────────────────┐     │
│ │ API Key 1      [🗑️]│     │
│ │ 名称: [主Key      ]│     │
│ │ Key:  [*********  ]│     │
│ └─────────────────────┘     │
│                             │
│ ┌─────────────────────┐     │
│ │ API Key 2      [🗑️]│     │
│ │ 名称: [备用Key    ]│     │
│ │ Key:  [*********  ]│     │
│ └─────────────────────┘     │
└─────────────────────────────┘
```

### 默认配置

如果不添加解析API Key，系统将使用默认配置：
```
URL: https://ai.gitee.com/v1/async/documents/parse
Token: (默认Token)
```

### 多个Key

- ✅ 可以添加多个Key
- ✅ 用作备用/负载均衡
- ✅ 每个Key可以设置名称便于识别
- ✅ 可随时删除

---

## 🤖 翻译AI API

### 完整配置
翻译AI API需要完整配置，支持OpenAI兼容接口。

### 如何添加

1. **找到翻译AI API部分**
   - 在"API配置"下方

2. **点击添加按钮**
   - 输入配置信息：
     - **名称**：如"Claude 4.5"、"GPT-4"
     - **API URL**：OpenAI兼容接口地址
     - **API Key**：您的API密钥
     - **模型名称**：如"claude-4.5-sonnet-think"

3. **保存**
   - 自动保存到浏览器

### 示例

```
┌─────────────────────────────────┐
│ 翻译AI API              [+ 添加] │
├─────────────────────────────────┤
│ ┌───────────────────────────┐   │
│ │ 翻译AI 1           [🗑️]│   │
│ │ 名称:  [Claude 4.5      ] │   │
│ │ URL:   [https://b4u...  ] │   │
│ │ Key:   [sk-*********    ] │   │
│ │ 模型:  [claude-4.5...   ] │   │
│ └───────────────────────────┘   │
│                                 │
│ ┌───────────────────────────┐   │
│ │ 翻译AI 2           [🗑️]│   │
│ │ 名称:  [GPT-4          ] │   │
│ │ URL:   [https://api... ] │   │
│ │ Key:   [sk-*********   ] │   │
│ │ 模型:  [gpt-4          ] │   │
│ └───────────────────────────┘   │
└─────────────────────────────────┘
```

### 支持的API

任何OpenAI兼容的API：
- Claude (Anthropic)
- GPT (OpenAI)
- 自建API
- 第三方代理

### 配置说明

**API URL**
- 必须是完整的endpoint
- 格式：`https://example.com/v1/chat/completions`
- 必须支持OpenAI格式

**API Key**
- 通常以`sk-`开头
- 保存在浏览器localStorage
- 仅客户端存储，不上传服务器

**模型名称**
- 填写具体模型名
- 如：`claude-4.5-sonnet-think`
- 如：`gpt-4-turbo-preview`

---

## 🔒 安全提示

### 本地存储
- API配置保存在浏览器localStorage
- 仅存在您的设备上
- 清除浏览器数据会丢失配置

### 建议
1. ✅ 使用HTTPS访问
2. ✅ 不在公共设备上保存
3. ✅ 定期更换API Key
4. ✅ 注意API使用额度

### 导出/导入

目前配置仅保存在浏览器中，如需备份：

**手动备份**
1. 打开浏览器开发者工具（F12）
2. Console输入：
   ```javascript
   console.log(localStorage.getItem('parseAPIs'))
   console.log(localStorage.getItem('translateAPIs'))
   ```
3. 复制输出内容保存

**恢复配置**
1. Console输入：
   ```javascript
   localStorage.setItem('parseAPIs', '粘贴之前的内容')
   localStorage.setItem('translateAPIs', '粘贴之前的内容')
   ```
2. 刷新页面

---

## 💡 使用技巧

### 解析API Key

**多Key策略**
```
Key 1: 主要使用
Key 2: 备用（额度用完时）
Key 3: 测试用
```

**命名建议**
```
✅ 主Key
✅ 备用Key-1
✅ 测试Key
✅ 团队共享Key

❌ API Key 1
❌ key
❌ test
```

### 翻译AI API

**多API策略**
```
API 1: 主力模型（速度快）
API 2: 备用模型（效果好）
API 3: 测试模型（成本低）
```

**命名建议**
```
✅ Claude 4.5 - 主力
✅ GPT-4 - 备用
✅ Claude 3.5 - 测试

❌ API 1
❌ api
❌ test
```

---

## 🔧 故障排除

### 解析失败

**检查清单**
- [ ] Key是否正确
- [ ] Key是否过期
- [ ] 是否有额度
- [ ] 网络是否正常

**解决方法**
1. 尝试其他Key
2. 检查API服务状态
3. 联系API提供商

### 翻译失败

**检查清单**
- [ ] URL是否正确
- [ ] Key是否有效
- [ ] 模型名是否正确
- [ ] API是否支持OpenAI格式

**解决方法**
1. 验证API配置
2. 尝试其他API
3. 查看控制台错误

---

## 📞 获取API

### 解析API
- MinerU官方: https://ai.gitee.com
- 其他解析服务提供商

### 翻译AI API
- Anthropic Claude: https://www.anthropic.com
- OpenAI: https://openai.com
- 其他OpenAI兼容API

---

## 🎯 快速开始

### 最小配置
1. 不配置任何API → 使用默认Key ✅
2. 只配置翻译AI → 解析用默认 ✅

### 推荐配置
1. 添加1个解析Key（自己的）
2. 添加1个翻译AI（Claude推荐）
3. 开始使用！

### 完整配置
1. 添加2-3个解析Key（主+备用）
2. 添加2-3个翻译AI（不同模型）
3. 根据需求选择使用

---

**更新时间**: 2025-12-11  
**版本**: 2.0.1
